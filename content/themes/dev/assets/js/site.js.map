{"version":3,"sources":["index.js","jquery.fitvids.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"site.js","sourcesContent":["/**\n * Main JS file for Casper behaviours\n */\n\n/* globals jQuery, document */\n(function ($, sr, undefined) {\n    \"use strict\";\n\n    var $document = $(document),\n\n        // debouncing function from John Hann\n        // http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\n        debounce = function (func, threshold, execAsap) {\n            var timeout;\n\n            return function debounced () {\n                var obj = this, args = arguments;\n                function delayed () {\n                    if (!execAsap) {\n                        func.apply(obj, args);\n                    }\n                    timeout = null;\n                }\n\n                if (timeout) {\n                    clearTimeout(timeout);\n                } else if (execAsap) {\n                    func.apply(obj, args);\n                }\n\n                timeout = setTimeout(delayed, threshold || 100);\n            };\n        };\n\n    $document.ready(function () {\n\n        var $postContent = $(\".post-content\");\n        $postContent.fitVids();\n\n        function updateImageWidth() {\n            var $this = $(this),\n                contentWidth = $postContent.outerWidth(), // Width of the content\n                imageWidth = this.naturalWidth; // Original image resolution\n\n            if (imageWidth >= contentWidth) {\n                $this.addClass('full-img');\n            } else {\n                $this.removeClass('full-img');\n            }\n        }\n\n        var $img = $(\"img\").on('load', updateImageWidth);\n        function casperFullImg() {\n            $img.each(updateImageWidth);\n        }\n\n        casperFullImg();\n        $(window).smartresize(casperFullImg);\n\n        $(\".scroll-down\").arctic_scroll();\n\n    });\n\n    // smartresize\n    jQuery.fn[sr] = function(fn) { return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr); };\n\n    // Arctic Scroll by Paul Adam Davis\n    // https://github.com/PaulAdamDavis/Arctic-Scroll\n    $.fn.arctic_scroll = function (options) {\n\n        var defaults = {\n            elem: $(this),\n            speed: 500\n        },\n\n        allOptions = $.extend(defaults, options);\n\n        allOptions.elem.click(function (event) {\n            event.preventDefault();\n            var $this = $(this),\n                $htmlBody = $('html, body'),\n                offset = ($this.attr('data-offset')) ? $this.attr('data-offset') : false,\n                position = ($this.attr('data-position')) ? $this.attr('data-position') : false,\n                toMove;\n\n            if (offset) {\n                toMove = parseInt(offset);\n                $htmlBody.stop(true, false).animate({scrollTop: ($(this.hash).offset().top + toMove) }, allOptions.speed);\n            } else if (position) {\n                toMove = parseInt(position);\n                $htmlBody.stop(true, false).animate({scrollTop: toMove }, allOptions.speed);\n            } else {\n                $htmlBody.stop(true, false).animate({scrollTop: ($(this.hash).offset().top) }, allOptions.speed);\n            }\n        });\n\n    };\n})(jQuery, 'smartresize');\n","/*global jQuery */\n/*jshint browser:true */\n/*!\n* FitVids 1.1\n*\n* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n*/\n\n(function( $ ){\n\n  \"use strict\";\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement('div');\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        \"iframe[src*='player.vimeo.com']\",\n        \"iframe[src*='youtube.com']\",\n        \"iframe[src*='youtube-nocookie.com']\",\n        \"iframe[src*='kickstarter.com'][src*='video.html']\",\n        \"object\",\n        \"embed\"\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not(\"object object\"); // SwfObj conflict patch\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('id')){\n          var videoID = 'fitvid' + Math.floor(Math.random()*999999);\n          $this.attr('id', videoID);\n        }\n        $this.wrap('<div class=\"fluid-width-video-wrapper\"></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+\"%\");\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n// Works with either jQuery or Zepto\n})( window.jQuery || window.Zepto );\n"],"sourceRoot":"/source/"}